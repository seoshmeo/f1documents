# FIA Documents Scraper with AI Summaries

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ FIA Formula 1 —Å AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∞–º–º–∞—Ä–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

## üÜï –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è: AI Summaries

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–∏–µ —Å–∞–º–º–∞—Ä–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:

```
üèéÔ∏è –ù–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç FIA

üìÑ Decision - Car 55 - Track Limits Turn 6

üìä –†–∞–∑–º–µ—Ä: 234.5 KB
üèÅ –°–µ–∑–æ–Ω: 2025

üìù –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
–°—Ç—é–∞—Ä–¥—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤—ã—Ö –ª–∏–º–∏—Ç–æ–≤
–∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º ‚Ññ55 (Ferrari) –Ω–∞ 6-–º –ø–æ–≤–æ—Ä–æ—Ç–µ...

üîó –û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
```

**[‚Üí –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± AI Summaries](AI_SUMMARY_README.md)**

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —Å–∞–π—Ç–∞ FIA –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ü§ñ **AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏** –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (—á–µ—Ä–µ–∑ Claude Code)
- üóÑÔ∏è **PostgreSQL** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–∞–º–º–∞—Ä–∏
- üì± **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —Å —Å–∞–º–º–∞—Ä–∏ –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
- üéÆ **Telegram –±–æ—Ç –∫–æ–º–∞–Ω–¥—ã** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (/interval, /status, /check)
- üîÑ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª** –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ –±–æ—Ç
- üõ°Ô∏è **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è** –ø–æ URL –∏ —Ö–µ—à—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
- üìä **Graceful degradation** - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ AI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
docker-compose up -d
docker-compose logs -f scraper
```

**–ì–æ—Ç–æ–≤–æ!** PostgreSQL, Python –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
psql -h localhost -U postgres -d fia_documents -f setup_database.sql
psql -h localhost -U postgres -d fia_documents -f migrations/add_summary_field.sql

# 4. –ó–∞–ø—É—Å–∫
python3 run_with_bot.py
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** [QUICKSTART.md](QUICKSTART.md)

---

## ü§ñ AI Summaries Setup

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Claude Code CLI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`claude` –∫–æ–º–∞–Ω–¥–∞)
- –ü–æ–¥–ø–∏—Å–∫–∞ Claude Pro/Max/Code

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è PDF
pip install -r requirements.txt

# 2. –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql -h localhost -U postgres -d fia_documents -f migrations/add_summary_field.sql

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Claude Code
claude "—Ç–µ—Å—Ç"
```

**–ì–æ—Ç–æ–≤–æ!** –°–∞–º–º–∞—Ä–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [AI_SUMMARY_SETUP.md](AI_SUMMARY_SETUP.md)

---

## üì± Telegram Bot –ö–æ–º–∞–Ω–¥—ã

- `/status` - –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- `/interval <seconds>` - –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏
- `/check` - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–π—á–∞—Å
- `/enable` / `/disable` - –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫—É
- `/settings` - –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [BOT_COMMANDS.md](BOT_COMMANDS.md)

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
fia-documents-scraper/
‚îú‚îÄ‚îÄ main.py                  # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ run_with_bot.py          # –ó–∞–ø—É—Å–∫ —Å Telegram –±–æ—Ç–æ–º
‚îú‚îÄ‚îÄ scraper.py               # –°–∫—Ä–∞–ø–∏–Ω–≥ FIA —Å–∞–π—Ç–∞
‚îú‚îÄ‚îÄ database.py              # –†–∞–±–æ—Ç–∞ —Å PostgreSQL
‚îú‚îÄ‚îÄ telegram_notifier.py     # Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ bot_commands.py          # –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ pdf_processor.py         # üÜï –û–±—Ä–∞–±–æ—Ç–∫–∞ PDF —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ claude_summarizer.py     # üÜï AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏
‚îú‚îÄ‚îÄ test_summary.py          # üÜï –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–º–º–∞—Ä–∏
‚îú‚îÄ‚îÄ get_my_chat_id.py        # üÜï –£–∑–Ω–∞—Ç—å Chat ID
‚îÇ
‚îú‚îÄ‚îÄ migrations/              # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ add_summary_field.sql
‚îÇ
‚îú‚îÄ‚îÄ .env                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ docker-compose.yml       # Docker setup
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost
DB_PORT=5432
DB_NAME=fia_documents
DB_USER=postgres
DB_PASSWORD=your_password

# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=group_chat_id           # –ì—Ä—É–ø–ø–∞ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
TELEGRAM_ADMIN_CHAT_ID=your_personal_id  # –í–∞—à ID –¥–ª—è –∫–æ–º–∞–Ω–¥/—Ç–µ—Å—Ç–æ–≤

# Scraper
FIA_URL=https://www.fia.com/documents/championships/fia-formula-one-world-championship-14/season/season-2025-2071
CHECK_INTERVAL=3600  # —Å–µ–∫—É–Ω–¥—ã (1 —á–∞—Å)
```

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: `fia_documents`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | SERIAL | Primary key |
| document_name | VARCHAR(500) | –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ |
| document_url | VARCHAR(1000) | URL (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| document_hash | VARCHAR(64) | SHA256 —Ö–µ—à –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ |
| file_size | BIGINT | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ |
| document_type | VARCHAR(50) | –¢–∏–ø (PDF) |
| season | VARCHAR(20) | –°–µ–∑–æ–Ω |
| **summary** | **TEXT** | **üÜï AI —Å–∞–º–º–∞—Ä–∏** |
| created_at | TIMESTAMP | –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞: `bot_settings`

–•—Ä–∞–Ω–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ (–∏–Ω—Ç–µ—Ä–≤–∞–ª, —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∏ —Ç.–¥.)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç AI Summary (–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–ª—å–∫–æ –≤–∞–º):

```bash
python3 test_summary.py
```

### –¢–µ—Å—Ç Telegram –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```bash
python3 main.py test-telegram
```

### –¢–µ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
python3 test_db_connection.py
```

üìñ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:** [TEST_INSTRUCTIONS.md](TEST_INSTRUCTIONS.md)

---

## üê≥ Docker

```bash
# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –õ–æ–≥–∏
docker-compose logs -f scraper

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart scraper
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [DOCKER_SETUP.md](DOCKER_SETUP.md)

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è:
- [QUICKSTART.md](QUICKSTART.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [LOCAL_SETUP.md](LOCAL_SETUP.md) - –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- [DOCKER_SETUP.md](DOCKER_SETUP.md) - Docker setup
- [DATABASE_SETUP.md](DATABASE_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
- [TELEGRAM_SETUP.md](TELEGRAM_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram

### AI Summaries:
- **[AI_SUMMARY_README.md](AI_SUMMARY_README.md)** - –û–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏
- **[AI_SUMMARY_SETUP.md](AI_SUMMARY_SETUP.md)** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[SUMMARY_QUICKSTART.md](SUMMARY_QUICKSTART.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **[TEST_INSTRUCTIONS.md](TEST_INSTRUCTIONS.md)** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏:
- [BOT_COMMANDS.md](BOT_COMMANDS.md) - –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- [SQL_COMMANDS.md](SQL_COMMANDS.md) - SQL –∫–æ–º–∞–Ω–¥—ã
- [CHEATSHEET.md](CHEATSHEET.md) - –®–ø–∞—Ä–≥–∞–ª–∫–∞
- [CHANGELOG.md](CHANGELOG.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å AI Summaries

**$0** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ Claude Code!

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à—É –ø–æ–¥–ø–∏—Å–∫—É Pro/Max/Code
- ~10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤/–º–µ—Å—è—Ü
- ~15,000 —Ç–æ–∫–µ–Ω–æ–≤/–¥–æ–∫—É–º–µ–Ω—Ç
- –í—Ö–æ–¥–∏—Ç –≤ –≤–∞—à—É –ø–æ–¥–ø–∏—Å–∫—É

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11+**
- **PostgreSQL 12+**
- **python-telegram-bot** - Telegram –±–æ—Ç
- **BeautifulSoup4** - –ü–∞—Ä—Å–∏–Ω–≥ HTML
- **requests** - HTTP –∑–∞–ø—Ä–æ—Å—ã
- **PyPDF2 / pdfplumber** - –û–±—Ä–∞–±–æ—Ç–∫–∞ PDF
- **Claude Code** - AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Ä–µ–º–µ–Ω–Ω—ã–µ PDF —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –°–∞–º–º–∞—Ä–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π PostgreSQL
- –ù–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º (–∫—Ä–æ–º–µ Claude Code)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ .env –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤

---

## ü§ù –í–∫–ª–∞–¥

–ï—Å–ª–∏ –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ –µ—Å—Ç—å –∏–¥–µ—è:
1. –°–æ–∑–¥–∞–π—Ç–µ issue
2. –ò–ª–∏ —Å—Ä–∞–∑—É pull request

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ!

---

## üèéÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ

–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç FIA –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Ä–µ—à–µ–Ω–∏—è —Å—Ç—é–∞—Ä–¥–æ–≤, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã, —à—Ç—Ä–∞—Ñ—ã –∏ —Ç.–¥.) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ Telegram —Å AI-—Å–∞–º–º–∞—Ä–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º.

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ñ–∞–Ω–∞—Ç–æ–≤ F1**
